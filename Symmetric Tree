class Solution {
public:

    bool check(TreeNode* left , TreeNode* right){
        if(left == NULL && right == NULL)return true;
        if(left == NULL || right == NULL || left->val != right->val)return false;

        if(!check(left->right , right->left) || 
        !check(left->left , right->right))return false;;
        return true;
    }

    bool isSymmetric(TreeNode* root) {
        return check(root->left , root->right);
    }
};
