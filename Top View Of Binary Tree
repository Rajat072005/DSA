#include<bits/stdc++.h>
vector<int> getTopView(TreeNode<int> *root) {

    // map<int, map<int, multiset<int>>> nodes;
    map<int, map<int, vector<int>>> nodes;

    queue<pair<TreeNode<int>* , pair<int,int>>>q;
    q.push({root , {0,0}});

    while(!q.empty()){
        auto n = q.front();
        q.pop();
        TreeNode<int>* node = n.first;
        int vertical = n.second.first;
        int level = n.second.second;
        // nodes[vertical][level].insert(node->data);
        nodes[vertical][level].push_back(node->data);

            if(node->left){
            q.push({node->left , {vertical - 1 , level + 1}});
        }
        if(node->right){
            q.push({node->right , {vertical+1 , level + 1}});
        }
    }
    vector<int>ans;

    for(auto p : nodes){
        for(auto q : p.second){
            for(int val : q.second){
                ans.push_back(val);
                break;
            }
            break;
        }
    }
    return ans;
}
